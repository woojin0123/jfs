<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>카운터</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://code.jquery.com/ui/1.14.1/jquery-ui.js"></script>
</head>

<body>
    <span class="count" data-target="3">0</span>+
    <span class="count" data-target="3">0</span>+
    <span class="count" data-target="15">0</span>+
    <span class="count" data-target="1">0</span>+

    <script>
        $('.count').each(function() {
            // $(this)는 function(){}에서 함수를 수행하고 있는 .count를 가르킨다
            // attr('속성')은 속성값을 가져온다
            let target = parseInt($(this).attr("data-target"));
        let current = 0;
        let duration = 1000;
        let interval = 20;

        // Math.ceil(숫자): 올림처리
        // Math.flow(숫자): 버림처리
        // Math.round(숫자): 반올림처리
        // let step = Math.ceil(target / (duration / interval));
        // current += step;

        let timer = setInterval(() => {
            current++;

            // 카운트 종료
            if (current >= target) {
                current = target;
                clearInterval(timer);
            }
            $(this).text(current);
        }, interval);
});

    </script>
</body>

</html>