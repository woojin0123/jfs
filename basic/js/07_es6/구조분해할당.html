<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS 구조분해할당</title>
</head>

<body>
    <script>
        // 배열 선언
        // 1. 배열구조분해할당: 좌변 순서대로 변수에 할당
        // * 순서 중요
        const arr = [1, 2, 3];

        // const [ 변수1, 변수2, ... ] = [속성1: 값1, 속성2: 값2, ...];
        // 변수1= 값1, 변수2= 값2
        // [a, b, c] = [1, 2, 3];
        const [a, b, c] = arr;

        console.log('a = ' + a); // 1
        console.log('b = ' + b); // 2
        console.log('c = ' + c); // 3

        const [x, y, z = 100] = [10, 20];
        console.log('x =', x); // 100 (값이 없으면 기본값)
        console.log('y =', y); // 100 (값이 없으면 기본값)
        console.log('z =', z); // 100 (값이 없으면 기본값)

        // 2. 객체구조분해할당
        // 순서가 없음(키가 있어서 순서는 상관없음)
        // const { 변수1, 변수2, ... } = {속성1: 값1, 속성2: 값2, ...};
        // 변수1= 값1, 변수2= 값2
        // user 객체
        const user = { name: '홍길동', age: 25 };
        const { name, age } = user;

        console.log(name); // 홍길동
        console.log(age);  // 25

        // 다른 변수 이름으로 할당 (별칭사용)
        // const { 변수: 별칭 } = {};
        const { name: userName } = user;
        console.log('age =', userName); // 홍길동

        // 기본값 설정
        // const {job} = user;
        const { job = '개발자' } = user; // job이 없으면 undefined
        console.log('job =', job); // 개발자

        // 3. 함수의 매개변수에서 구조분해할당
        function printUser({ name, age }) {
            console.log(`${name} (${age})`);
        }

        const user2 = { name: 'Jane', age: 22 };
        printUser(user2);
        console.log(`이름은 ${name}이고 나이는 ${age}다`)

        // 중첩구조분해
        const arr2 = [1, 2, [3, 4, 5]];
        const [m, n, [o, p, q]] = arr2;
        console.log('m= ', m); // 1
        console.log('n= ', n); // 2
        console.log('o= ', o); // 3
        console.log('p= ', p); // 4
        console.log('q= ', q); // 5

        const user3 = {
            name: '철수',
            address: {
                city: '서울',
                zip: '12345'
            }
        };

        // const { 변수1, 변수2, ... } = {};
        // const {변수1: {변수1, 변수2,...}};
        const {address: { city }} = user3;


    </script>
</body>

</html>